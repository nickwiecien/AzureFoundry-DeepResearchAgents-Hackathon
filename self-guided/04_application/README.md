# Deep Research Streamlit Application

A user-friendly web interface for conducting comprehensive research using Azure AI Foundry agents. This application provides an intuitive front-end for the Deep Research API, enabling users to generate detailed research reports through an interactive chat-like interface.

## ğŸ¯ Overview

The Deep Research Streamlit App transforms complex research tasks into a simple conversational experience. Users can submit research topics and receive comprehensive, professionally formatted reports generated by AI agents that conduct multi-source research on their behalf.

### Key Features

- **Interactive Research Interface**: Chat-like experience for submitting research queries
- **Customizable Research Parameters**: Adjustable depth and breadth settings for research scope
- **Configurable Report Generation**: Editable prompts to control report style and focus
- **Real-time Streaming**: Live updates showing research progress as it happens
- **Professional Output**: Formatted markdown reports with citations and structured analysis

## ğŸ”§ How It Works

### Research Flow

```
User Query â†’ Research Settings â†’ Deep Research API â†’ AI Agents â†’ Streaming Results â†’ Final Report
     â†“              â†“                  â†“              â†“              â†“              â†“
"AI in Healthcare" â†’ [Depth: 3, Breadth: 4] â†’ API Call â†’ [Web Search, Analysis] â†’ [Progress Updates] â†’ [Comprehensive Report]
```

### Architecture Integration

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Streamlit     â”‚    â”‚   Deep Research â”‚    â”‚  Azure AI       â”‚
â”‚   Frontend      â”‚â—„â”€â”€â–ºâ”‚   API           â”‚â—„â”€â”€â–ºâ”‚  Foundry        â”‚
â”‚   (This App)    â”‚    â”‚   (Port 8000)   â”‚    â”‚  Agents         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User Settings â”‚    â”‚   Research      â”‚    â”‚   Data Sources  â”‚
â”‚   & Prompts     â”‚    â”‚   Orchestration â”‚    â”‚   (Web, APIs)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ Getting Started

### Prerequisites

1. **Deep Research API running** on `http://127.0.0.1:8000` (see `../03_deep_research_api/`)
2. **Azure AI Foundry agents** configured and operational
3. **Python 3.11+** with Streamlit installed

### Installation

1. **Install dependencies**:
   ```bash
   pip install streamlit requests python-dotenv
   ```

2. **Ensure API is running**:
   ```bash
   # Start the Deep Research API first
   cd ../03_deep_research_api/
   uvicorn deep_research_api:app --reload
   ```

3. **Configure environment** (optional):
   ```bash
   # Copy environment from project root if not already done
   cp ../../.env.sample ../../.env
   # Edit .env with your agent ID
   ```

### Running the Application

**Start the Streamlit app**:
```bash
streamlit run streamlit_app.py
```

**Alternative startup options**:
```bash
# Custom port
streamlit run streamlit_app.py --server.port 8501

# Network access
streamlit run streamlit_app.py --server.address 0.0.0.0

# Development mode with auto-reload
streamlit run streamlit_app.py --server.runOnSave true
```

The application will be available at `http://localhost:8501`

## ğŸ›ï¸ Application Features

### 1. Research Settings Panel

Located in the expandable "Deep Research Settings" section:

**Depth Control (0-6)**:
- Controls how many levels deep the research investigation goes
- Higher values = more detailed, comprehensive research
- Default: 3 (recommended for balanced depth)
- Example: Depth 3 might explore initial findings, then investigate implications, then examine specific case studies

**Breadth Control (1-10)**:
- Controls how many initial research questions are generated
- Higher values = broader initial exploration
- Default: 3 (recommended for focused research)
- Example: Breadth 4 might generate questions about technology, market impact, regulations, and case studies

### 2. Report Generation Prompt

**Customizable Instructions**:
- Full-featured text editor for modifying report generation instructions
- Pre-configured with professional academic/business report template
- Controls report style, structure, and focus areas
- Supports different audience types (business leaders, technical teams, policy makers)

**Default Template Includes**:
- Executive Summary requirements
- Key themes and focus areas
- Comprehensive topic overview
- Data presentation guidelines
- Analytical depth requirements
- Audience-focused writing standards
- Citation and sourcing requirements

### 3. Interactive Research Interface

**Chat-like Experience**:
- Simple text input for research queries
- Immediate response with streaming updates
- Conversation history maintained during session
- Real-time progress indicators

**Research Topics Examples**:
- "Latest developments in sustainable manufacturing"
- "Impact of AI on healthcare delivery"
- "Market opportunities in renewable energy storage"
- "Regulatory landscape for autonomous vehicles"

### 4. Real-time Research Streaming

**Live Progress Updates**:
```
âš—ï¸ Generating initial research inquiriesâ€¦

ğŸ” Research Topic: What are current AI applications in manufacturing?
âœ… Learnings:
  â€¢ Manufacturing companies are implementing AI for predictive maintenance... [Source]

ğŸ” Research Topic: What is the ROI of AI implementation in manufacturing?
âœ… Learnings:
  â€¢ Studies show 15-25% efficiency improvements... [Source]

âœ… Research complete. Generating final report with o1-miniâ€¦

[Comprehensive Final Report with Executive Summary, Analysis, Conclusions]
```

## ğŸ“‹ Configuration Options

### API Endpoint Configuration

By default, the app connects to `http://127.0.0.1:8000`. To change this:

```python
# Line 144 in streamlit_app.py
uri = '127.0.0.1:8000'  # Update this to your API endpoint
```

**Common configurations**:
- Local development: `127.0.0.1:8000`
- Docker container: `api:8000`
- Azure Container Apps: `https://your-api.azurecontainerapps.io`
- Custom deployment: `your-domain.com:port`

### Agent Configuration

The app uses the `AGENT_ID` environment variable or falls back to a default:

```python
"agent_id": os.environ.get("AGENT_ID", "default_agent_id")
```

**To use a specific agent**:
1. Set `AGENT_ID` in your `.env` file
2. Or modify the code to use a hardcoded agent ID

### Report Customization

**Custom Report Templates**:
You can create specialized report prompts for different use cases:

- **Business Intelligence**: Focus on market analysis, competitive landscape, ROI
- **Technical Analysis**: Emphasize technical specifications, implementation details, performance
- **Academic Research**: Prioritize literature review, methodology, peer-reviewed sources
- **Policy Analysis**: Highlight regulatory implications, stakeholder impact, recommendations

## ğŸ¯ Usage Examples

### Basic Research Session

1. **Open the application** at `http://localhost:8501`
2. **Configure settings** (optional):
   - Depth: 3
   - Breadth: 3
   - Keep default report prompt
3. **Submit query**: "Sustainable packaging innovations in food industry"
4. **Watch real-time progress** as agents research the topic
5. **Review comprehensive report** with citations and analysis

### Advanced Research Session

1. **Adjust research parameters**:
   - Depth: 4 (for deeper investigation)
   - Breadth: 5 (for broader initial exploration)
2. **Customize report prompt**:
   ```
   Generate a business strategy report focusing on:
   - Market size and growth projections
   - Key players and competitive analysis
   - Investment opportunities and risks
   - Implementation recommendations for Fortune 500 companies
   ```
3. **Submit complex query**: "Market opportunities for AI-powered predictive maintenance in manufacturing"
4. **Receive business-focused report** tailored to your specifications

### Domain-Specific Research

**Healthcare Research**:
- Query: "Telemedicine adoption post-pandemic"
- Custom prompt: Focus on patient outcomes, regulatory compliance, cost-effectiveness

**Technology Research**:
- Query: "Edge computing applications in autonomous vehicles"
- Custom prompt: Emphasize technical architecture, performance benchmarks, implementation challenges

**Sustainability Research**:
- Query: "Carbon capture technologies for industrial applications"
- Custom prompt: Prioritize environmental impact, cost-benefit analysis, policy implications

## ğŸ“Š Understanding the Output

### Research Progress Indicators

**Query Generation**: Initial research questions being formulated
**Research Execution**: Individual topics being investigated by AI agents
**Learning Synthesis**: Key findings being extracted and summarized
**Report Generation**: Final comprehensive report being compiled

### Report Structure

**Executive Summary**: High-level overview of key findings and implications
**Key Themes**: Organized analysis of major topic areas
**Comprehensive Overview**: Detailed examination with supporting data
**Data Presentation**: Tables, timelines, and structured information
**Analytical Insights**: Conclusions and implications drawn from research
**Source Citations**: Clickable links to original research sources

## ğŸ”§ Customization and Extension

### Adding Custom Features

**New Input Controls**:
```python
# Add new research parameters
temperature = st.slider("Research Creativity", 0.0, 1.0, 0.1)
focus_area = st.selectbox("Focus Area", ["Technology", "Business", "Policy"])
```

**Custom Report Templates**:
```python
# Create domain-specific templates
if domain == "healthcare":
    report_prompt = healthcare_template
elif domain == "technology":
    report_prompt = tech_template
```

### Integration with Other Services

**Data Export**:
- Save reports to PDF
- Export to Word documents
- Store in databases
- Send via email

**Analytics Integration**:
- Track research topics
- Monitor usage patterns
- Measure report quality

## ğŸš€ Deployment

### Local Development

```bash
# Start API
cd ../03_deep_research_api/
uvicorn deep_research_api:app --reload

# Start Streamlit (in another terminal)
cd ../04_application/
streamlit run streamlit_app.py
```

### Production Deployment

**Docker Compose**:
```yaml
version: '3.8'
services:
  api:
    build: ../03_deep_research_api/
    ports:
      - "8000:8000"
  
  frontend:
    build: .
    ports:
      - "8501:8501"
    depends_on:
      - api
    environment:
      - API_ENDPOINT=http://api:8000
```

**Azure Container Apps**:
```bash
# Deploy API first, then frontend
az containerapp create \
  --name deep-research-frontend \
  --resource-group your-rg \
  --image your-registry/streamlit-app:latest \
  --target-port 8501 \
  --ingress external
```

## ğŸ” Troubleshooting

### Common Issues

**"Connection refused" errors**:
- Ensure Deep Research API is running on port 8000
- Check firewall settings
- Verify API endpoint configuration

**"Agent not found" errors**:
- Verify `AGENT_ID` environment variable
- Check Azure AI Foundry agent configuration
- Ensure API has proper Azure credentials

**Slow or incomplete responses**:
- Check Azure service quotas and rate limits
- Reduce depth/breadth parameters
- Monitor network connectivity

**Report formatting issues**:
- Verify markdown rendering in Streamlit
- Check for special characters in responses
- Review unsafe_allow_html settings

### Performance Optimization

**For faster responses**:
- Reduce research depth (2-3 levels)
- Lower breadth settings (2-4 questions)
- Use more specific research queries

**For comprehensive reports**:
- Increase depth settings (4-5 levels)
- Higher breadth for broader coverage (4-6 questions)
- Use detailed report prompts

## ğŸ¤ Integration Examples

### With Business Workflows

**Market Research**: Regular competitive analysis reports
**Product Development**: Technology trend monitoring
**Strategic Planning**: Industry landscape analysis
**Compliance**: Regulatory change tracking

### With Development Workflows

**API Integration**: Embed research capabilities in existing applications
**Data Pipeline**: Automated research for data enrichment
**Content Generation**: Research-backed content creation
**Decision Support**: Evidence-based recommendation systems

---

**Built for Microsoft Manufacturing customers** - Demonstrating sophisticated research automation through intuitive user interfaces.
